# LoginPage

Этот каталог содержит пример для кастомизации страницы входа в Web-клиент.

## Настройка среды

**Перечень необходимых инструментов:** 
* [NodeJS v14.17.0+](https://nodejs.org/en/)

## Сборка и установка

1. Открыть консоль в папке ClientScripts\TypeScript\LoginPage и выполнить команду `npm install`, затем `npm run build:prod`.
2. Скопировать каталог "SamplesOutput\Site\Content\Account\Scripts" в каталог "Путь к установленному WebClient\5.5\Site\Content\Account\Scripts".
3. Перезапустить IIS.

## Проверка примера

1. Перейти на страницу логина в браузере "http://HOST/DocsvisionWebClient/account/login";
2. В результате на странице входа будут изменены логотип и приветствие, а также добавлена почта администратора.

## Дополнительная информация

Рекомендуется осуществлять сборку в виде umd модуля.

Для корректной работы расширения нужно создать файл или файлы с расширением *.js и положить в папку "DocsVision\WebClient\5.5\Site\Content\Account\Scripts", код будет выполнен перед загрузкой приложения и выполнением ReactDOM.render().

Для того, чтобы добавить стили нужно создать файл или файлы с расширением *.сss и положить в папку "DocsVision\WebClient\5.5\Site\Content\Account\Styles", стили загружаются после основных стилей страницы.

Входной точкой для внедрения кода на страницу является объект "loginExtensionManager" доступный глобально через объект "windows".

Код расширения будет выполнен перед загрузкой приложения и выполнением ReactDOM.render(), но после загрузки библиотек React и ReactDOM.

Методы "loginExtensionManager", а также возможные ресурсы, компоненты и события для замены обозначены в виде типов и интерфейсов в модуле "@docsvision/webclient/Account".

## Проект LoginPage
 В этом примере демонстрируется возможность внедрения своего кода на страницу входа в DocsVision Web-клиент, а именно: 
- выполнение кода при определённых событиях(тип LoginEvents в модуле "@docsvision/webclient/Account");
- подмена текста на страницы(объект defaultLoginResources в модуле "@docsvision/webclient/Account");
- замена компонентов страницы(объект LoginView в модуле "@docsvision/webclient/Account/LoginContainer");
- добавление стилей на страницу
