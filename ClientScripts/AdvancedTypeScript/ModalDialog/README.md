# ModalDialog

Этот каталог содержит пример работы с модальным окном.

## Настройка среды

**Перечень необходимых инструментов:** 
* [NodeJS v14.17.0+](https://nodejs.org/en/)

## Сборка и установка

1. Открыть консоль в папке ModalDialogWebExtension и выполнить команду npm install, потом  npm update и в конце npm run build:prod
2. Скопировать каталог SamplesOutput\Site\Content\Modules\ModalDialogWebExtension в каталог "Путь к установленному Web-клиент\Site\Content\Modules"
3. Перезапустить IIS

## Проверка примера

1. Запустить конструктор разметок
2. Импортировать разметку из файла ModalDialogLayout.xml без условий использования. При этом будет добавлена разметка в тип карточки документ, вид ДокументУД\Исходящий
3. Задать для разметки условия использования, поменяв также порядок разметок в условиях использования, чтобы разметка стала первой разметкой для редактирования 
4. Перезапустить IIS
5. Открыть новый документ ДокументУД\Исходящий и нажать кнопку редактировать. При этом должна открыться разметка с кнопкой вызова модального окна и текстовым полем. 
6. При нажатии на кнопку ShowModalDialog отображается модальное окно, в котором присутствует текстовое поле для ввода. После ввода сообщения и нажатия на кнопку "ОК", значение из этого поля копируется в текстовое поле на разметке и сохраняется в качестве имени документа.


## Проект ModalDialogWebExtension

Проект-расширение клиентской части Web-клиент. Содержит клиентский скрипт c функцией showModalDialog реализующей отображение ModalDialog.
ModalDialogComponent - React компонент, отвечающий за представление модельного окна и его событий.
